/*==============================================================================*/
/* Copyright (C) 2014 JSL Technology. All right reserved.						*/
/* Tittle: Timer driver															*/
/* Comment:																		*/
/*==============================================================================*/

#ifndef __J_TIMER__
#define __J_TIMER__


/*==============================================================================*/
/* バージョン情報																*/
/*==============================================================================*/
#define	TIM_VER				100

/*==============================================================================*/
/* ハンドル定義																	*/
/*==============================================================================*/
typedef struct {
	void *hdl;
} TIM_HANDLE;

/*==============================================================================*/
/* 各種デファイン(変更可能)														*/
/*==============================================================================*/

/*==============================================================================*/
/* API引数用定義																*/
/*==============================================================================*/
/* opt */
#define	TIM_OPT_ONESHOT		0x00
#define	TIM_OPT_CONTINUE	0x01

typedef struct {
	UINT8 port;
	void (*tim_cb_func)( void *cb_arg );
	void *cb_arg;
} TIM_INIT_PARAM;

typedef struct {
	UINT8 opt;
	FLOAT64 freq;
} TIM_PARAM;

/*==============================================================================*/
/* API																			*/
/*==============================================================================*/
INT8 Tim_open( TIM_HANDLE *handle, TIM_INIT_PARAM *param );
void Tim_close( TIM_HANDLE *handle );
INT8 Tim_start( TIM_HANDLE *handle, TIM_PARAM *param );
void Tim_stop( TIM_HANDLE *handle );
INT8 Tim_init( OSW_MEM_HANDLE *mem_handle );


/*==============================================================================*/
/* 外部で宣言するコンフィグレーション定数										*/
/*==============================================================================*/

extern const UINT32 CFG_TIM_SYSCLK[];		/* ペリフェラルシステムクロック周波数(Hz) */


#endif /* __J_TIMER__ */









